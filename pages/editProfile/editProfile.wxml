<view class="container">
  <view class="info-section">
    <view style="width:100%;background-color: #ffff;border-radius: 14rpx;">
      <view class="info-item">
      <text>头像</text>
      <view class="input-container">
        <image class="avatar" src="{{images[0]}}" />
        <image src="/images/goto.png" style="width: 40rpx;height: 40rpx;" bind:tap="chooseImage"/>
      </view>
      <text wx:if="{{!avatarValid}}" class="error-text1">请上传头像</text>
    </view>
     <view class="white"></view>
    <view class="info-item">
      <text>昵称</text>
      <input class="input-field" value="{{nickname}}" placeholder="请输入昵称" disabled="{{!editMode}}" maxlength="10" bindinput="onInputChange" data-field="nickname" />
      <text wx:if="{{!nicknameValid}}" class="error-text">请填写昵称</text>
    </view>
    <view class="white"></view>
    <view class="info-item">
      <text>性别</text>
      <picker mode="selector" range="{{genderOptions}}" value="{{genderIndex}}" bindchange="onGenderChange" disabled="{{!editMode}}">
        <view class="picker {{genderOptions[genderIndex] ? 'selected' : 'placeholder'}}">
          {{genderOptions[genderIndex] || '请选择'}}
        </view>
      </picker>
      <text wx:if="{{!genderValid}}" class="error-text">请选择性别</text>
      </view>
    </view>
      
    <view style="width:100%;background-color: #ffff;border-radius: 14rpx;margin-top: 30rpx;">
      <view class="info-item">
        <text>学校</text>
        <input class="input-field" value="{{school_id}}" placeholder="请输入学校" disabled="{{!editMode}}" bindinput="onInputChange" data-field="school_id" />
      </view>
      <view class="white"></view>
      <view class="info-item">
        <text>校区</text>
        <input class="input-field" value="{{school_region_id}}" placeholder="请输入校区" disabled="{{!editMode}}" bindinput="onInputChange" data-field="school_region_id" />
      </view>
    </view>

    <view style="width:100%;background-color: #ffff;border-radius: 14rpx;margin-top: 30rpx;">
      <!-- 日期选择器 -->
      <view class="info-item">
        <text>生日</text>
        <picker mode="date" value="{{birthday}}" bindchange="onDateChange" disabled="{{!editMode}}">
        <view class="picker {{birthday ? 'selected1' : 'placeholder1'}}">
        {{birthday || '请选择日期'}}
        </view>
        </picker>
      </view>
      <view class="white"></view>
      <view class="info-item">
        <text>身高</text>
        <input class="input-field" value="{{height}}" placeholder="请输入身高(cm)" disabled="{{!editMode}}" bindinput="onInputChange" data-field="height" />
      </view>
      <view class="white"></view>
      <view class="info-item">
        <text>家乡</text>
        <input class="input-field" value="{{hometown}}" placeholder="请输入家乡" disabled="{{!editMode}}" bindinput="onInputChange" data-field="hometown" />
      </view>
    </view>
    
    
  </view>
  <button bindtap="toggleEditMode" class="butn">{{editMode ? '保存修改' : '编辑个人信息'}}</button>
</view>
